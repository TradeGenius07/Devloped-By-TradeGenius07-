"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[771],{1873:(e,t,i)=>{i.d(t,{E:()=>u});var r=i(5155),s=i(2115),a=i(646),n=i(4861),c=i(1243),o=i(1284),l=i(4416),d=i(3999);function u(e){let{type:t,title:i,message:u,isVisible:g,onClose:v,duration:p=5e3}=e;s.useEffect(()=>{if(g&&p>0){let e=setTimeout(()=>{v()},p);return()=>clearTimeout(e)}},[g,p,v]);let m={success:a.A,error:n.A,warning:c.A,info:o.A}[t],y={success:{bg:"bg-gradient-to-r from-green-500/90 to-emerald-600/90",border:"border-green-400/30",icon:"text-green-100",text:"text-green-50"},error:{bg:"bg-gradient-to-r from-red-500/90 to-red-600/90",border:"border-red-400/30",icon:"text-red-100",text:"text-red-50"},warning:{bg:"bg-gradient-to-r from-orange-500/90 to-yellow-600/90",border:"border-orange-400/30",icon:"text-orange-100",text:"text-orange-50"},info:{bg:"bg-gradient-to-r from-blue-500/90 to-blue-600/90",border:"border-blue-400/30",icon:"text-blue-100",text:"text-blue-50"}}[t];return(0,r.jsx)("div",{className:(0,d.cn)("fixed top-4 left-1/2 transform -translate-x-1/2 z-50 transition-all duration-500 max-w-md w-full mx-4",g?"translate-y-0 opacity-100":"-translate-y-full opacity-0"),children:(0,r.jsxs)("div",{className:(0,d.cn)("backdrop-blur-xl rounded-lg shadow-2xl border relative overflow-hidden",y.bg,y.border),children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/5 via-transparent to-white/5"}),(0,r.jsx)("div",{className:"relative p-4",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center",children:(0,r.jsx)(m,{className:(0,d.cn)("h-5 w-5",y.icon)})})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h3",{className:(0,d.cn)("font-semibold text-sm mb-1",y.text),children:i}),(0,r.jsx)("p",{className:(0,d.cn)("text-xs leading-relaxed",y.text,"opacity-90"),children:u})]}),(0,r.jsx)("button",{onClick:v,className:(0,d.cn)("flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center transition-colors","hover:bg-white/20",y.icon),children:(0,r.jsx)(l.A,{className:"h-4 w-4"})})]})})]})})}},1913:(e,t,i)=>{i.d(t,{D:()=>c});var r=i(3915),s=i(1115);let a=(0,r.Wp)({apiKey:"AIzaSyDtRer7jyxMOdcWJiDXyXA6n5vSI8kuGzA",authDomain:"shahin-king.firebaseapp.com",databaseURL:"https://shahin-king-default-rtdb.firebaseio.com",projectId:"shahin-king",storageBucket:"shahin-king.firebasestorage.app",messagingSenderId:"861164193266",appId:"1:861164193266:android:1b21626c1ea7597b27176b"}),n=(0,s.C3)(a);class c{static getInstance(){return c.instance||(c.instance=new c),c.instance}generateUserId(){return"user_"+Math.random().toString(36).substr(2,9)+"_"+Date.now()}generateDeviceId(){let e=localStorage.getItem("gaming_device_id");if(e)return e;let t="device_"+Math.random().toString(36).substr(2,9)+"_"+Date.now();return localStorage.setItem("gaming_device_id",t),t}async initializeUser(){try{var e;let t=null!==(e=localStorage.getItem("gaming_user_id"))&&void 0!==e?e:"";if(!t){for(;t=this.generateUserId(),(await(0,s.Jt)((0,s.KR)(n,"users/".concat(t)))).exists(););let e={id:t,createdAt:Date.now(),isPremium:!1,premiumExpiry:null,hasVipLicense:!1,vipLicenseKey:null,vipExpiry:null,deviceId:null,loginTimestamp:null};await(0,s.hZ)((0,s.KR)(n,"users/".concat(t)),e),localStorage.setItem("gaming_user_id",t)}return t}catch(e){throw console.error("Error initializing user:",e),Error("Failed to initialize user: "+e.message)}}async getUser(e){try{let t=await(0,s.Jt)((0,s.KR)(n,"users/".concat(e)));if(!t.exists())return null;let i=t.val();return i.isPremium&&i.premiumExpiry&&i.premiumExpiry<Date.now()&&(i.isPremium=!1,i.premiumExpiry=null,await(0,s.hZ)((0,s.KR)(n,"users/".concat(e)),i)),i.hasVipLicense&&i.vipExpiry&&i.vipExpiry<Date.now()&&(await this.logoutVipUser(e),i.hasVipLicense=!1,i.vipLicenseKey=null,i.vipExpiry=null,i.deviceId=null,i.loginTimestamp=null,await(0,s.hZ)((0,s.KR)(n,"users/".concat(e)),i)),i}catch(e){return console.error("Error getting user:",e),null}}onUserChange(e,t){let i=(0,s.KR)(n,"users/".concat(e));return(0,s.Zy)(i,e=>{e.exists()&&t(e.val())})}async addPremiumDaysByUserId(e,t){try{let i=await this.getUser(e);if(!i)throw Error("User not found");let r=i.premiumExpiry&&i.premiumExpiry>Date.now()?i.premiumExpiry:Date.now();await(0,s.yo)((0,s.KR)(n,"users/".concat(e)),{isPremium:!0,premiumExpiry:r+864e5*t})}catch(e){throw console.error("Error adding premium days:",e),e}}generateVipKey(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t="";for(let i=0;i<16;i++)i>0&&i%4==0&&(t+="-"),t+=e.charAt(Math.floor(36*Math.random()));return t}async createVipLicenseKey(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;try{let i=Date.now().toString(),r={id:i,key:this.generateVipKey(),validityDays:e,maxDevices:t,createdAt:Date.now(),isUsed:!1,usedBy:null,usedAt:null,activeDevices:{},isActive:!0};return await(0,s.hZ)((0,s.KR)(n,"vipLicenseKeys/".concat(i)),r),r}catch(e){throw console.error("Error creating VIP key:",e),e}}async getAllVipKeys(){try{let e=await(0,s.Jt)((0,s.KR)(n,"vipLicenseKeys"));if(!e.exists())return[];let t=[];return e.forEach(e=>{let i=e.val();void 0===i.isActive&&(i.isActive=!0),t.push(i)}),t.sort((e,t)=>t.createdAt-e.createdAt)}catch(e){return console.error("Error getting VIP keys:",e),[]}}async toggleVipKeyStatus(e,t){try{let i=(0,s.KR)(n,"vipLicenseKeys/".concat(e)),r=await(0,s.Jt)(i);if(!r.exists())throw Error("VIP key not found");let a=r.val();if(await(0,s.yo)(i,{isActive:t}),!t&&a.activeDevices){for(let[e,t]of Object.entries(a.activeDevices))await this.logoutVipUser(t.userId);await(0,s.yo)(i,{activeDevices:{},isUsed:!1})}}catch(e){throw console.error("Error toggling VIP key status:",e),e}}async deleteVipKey(e){try{let t=await(0,s.Jt)((0,s.KR)(n,"vipLicenseKeys/".concat(e)));if(t.exists()){let e=t.val();if(e.activeDevices)for(let[t,i]of Object.entries(e.activeDevices))await this.logoutVipUser(i.userId)}await(0,s.TF)((0,s.KR)(n,"vipLicenseKeys/".concat(e)))}catch(e){throw console.error("Error deleting VIP key:",e),e}}async loginWithVipKey(e,t){try{let i=this.generateDeviceId(),r=(await this.getAllVipKeys()).find(e=>e.key===t);if(!r)return{success:!1,message:"Invalid VIP license key"};if(!r.isActive)return{success:!1,message:"VIP license key is deactivated"};if(r.activeDevices||(r.activeDevices={}),Object.keys(r.activeDevices).length>=r.maxDevices)return{success:!1,message:"Device limit exceeded. Maximum ".concat(r.maxDevices," device(s) allowed.")};if(r.activeDevices[i])return{success:!1,message:"This device is already logged in"};r.activeDevices[i]={userId:e,loginTime:Date.now()},await(0,s.yo)((0,s.KR)(n,"vipLicenseKeys/".concat(r.id)),{isUsed:!0,usedBy:e,usedAt:Date.now(),activeDevices:r.activeDevices});let a=Date.now()+864e5*r.validityDays;await(0,s.yo)((0,s.KR)(n,"users/".concat(e)),{hasVipLicense:!0,vipLicenseKey:t,vipExpiry:a,deviceId:i,loginTimestamp:Date.now()});let c={userId:e,deviceId:i,vipLicenseKey:t,loginTime:Date.now(),lastActive:Date.now()};return await(0,s.hZ)((0,s.KR)(n,"deviceSessions/".concat(i)),c),{success:!0,message:"VIP license activated successfully!"}}catch(e){return console.error("Error logging in with VIP key:",e),{success:!1,message:"Network error occurred. Please try again."}}}async logoutVipUser(e){try{let t=await this.getUser(e);if(!t||!t.hasVipLicense||!t.deviceId)return;if(t.vipLicenseKey){let e=(await this.getAllVipKeys()).find(e=>e.key===t.vipLicenseKey);e&&e.activeDevices&&e.activeDevices[t.deviceId]&&(delete e.activeDevices[t.deviceId],await(0,s.yo)((0,s.KR)(n,"vipLicenseKeys/".concat(e.id)),{activeDevices:e.activeDevices,isUsed:Object.keys(e.activeDevices).length>0}))}await(0,s.TF)((0,s.KR)(n,"deviceSessions/".concat(t.deviceId))),await(0,s.yo)((0,s.KR)(n,"users/".concat(e)),{hasVipLicense:!1,vipLicenseKey:null,vipExpiry:null,deviceId:null,loginTimestamp:null})}catch(e){throw console.error("Error logging out VIP user:",e),e}}onVipKeyDeleted(e,t){let i=(0,s.KR)(n,"vipLicenseKeys");return(0,s.Zy)(i,i=>{if(i.exists()){let r=[];i.forEach(e=>r.push(e.val())),r.some(t=>t.key===e)||t()}})}async activateVipKey(e,t){return(await this.loginWithVipKey(e,t)).success}async setGlobalPrediction(e){try{await(0,s.hZ)((0,s.KR)(n,"globalPrediction"),e)}catch(e){console.error("Error setting global prediction:",e)}}onGlobalPredictionChange(e){return(0,s.Zy)((0,s.KR)(n,"globalPrediction"),t=>{e(t.exists()?t.val():null)})}async getAppSettings(){try{let e=await(0,s.Jt)((0,s.KR)(n,"appSettings"));if(e.exists())return e.val();let t={maintenanceMode:!1,logoUrl:"",appName:"ASHURA AI"};return await(0,s.hZ)((0,s.KR)(n,"appSettings"),t),t}catch(e){return console.error("Error getting app settings:",e),{maintenanceMode:!1,logoUrl:"",appName:"ASHURA AI"}}}async updateAppSettings(e){try{await(0,s.yo)((0,s.KR)(n,"appSettings"),e)}catch(e){throw console.error("Error updating app settings:",e),e}}onAppSettingsChange(e){return(0,s.Zy)((0,s.KR)(n,"appSettings"),t=>{t.exists()&&e(t.val())})}async getAllUsers(){try{let e=await(0,s.Jt)((0,s.KR)(n,"users"));if(!e.exists())return[];let t=[];return e.forEach(e=>t.push(e.val())),t}catch(e){return console.error("Error getting all users:",e),[]}}async getAllDeviceSessions(){try{let e=await(0,s.Jt)((0,s.KR)(n,"deviceSessions"));if(!e.exists())return[];let t=[];return e.forEach(e=>t.push(e.val())),t}catch(e){return console.error("Error getting device sessions:",e),[]}}async forceLogoutDevice(e){try{let t=await(0,s.Jt)((0,s.KR)(n,"deviceSessions/".concat(e)));if(t.exists()){let e=t.val();await this.logoutVipUser(e.userId)}}catch(e){throw console.error("Error force logging out device:",e),e}}async deleteDeviceSession(e){try{let t=await(0,s.Jt)((0,s.KR)(n,"deviceSessions/".concat(e)));if(!t.exists())throw Error("Device session not found");let i=t.val(),r=(await this.getAllVipKeys()).find(e=>e.key===i.vipLicenseKey);r&&r.activeDevices&&r.activeDevices[e]&&(delete r.activeDevices[e],await(0,s.yo)((0,s.KR)(n,"vipLicenseKeys/".concat(r.id)),{activeDevices:r.activeDevices,isUsed:Object.keys(r.activeDevices).length>0})),await(0,s.yo)((0,s.KR)(n,"users/".concat(i.userId)),{hasVipLicense:!1,vipLicenseKey:null,vipExpiry:null,deviceId:null,loginTimestamp:null}),await(0,s.TF)((0,s.KR)(n,"deviceSessions/".concat(e)))}catch(e){throw console.error("Error deleting device session:",e),e}}constructor(){}}c.getInstance()},2714:(e,t,i)=>{i.d(t,{J:()=>l});var r=i(5155),s=i(2115),a=i(968),n=i(2085),c=i(3999);let o=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=s.forwardRef((e,t)=>{let{className:i,...s}=e;return(0,r.jsx)(a.b,{ref:t,className:(0,c.cn)(o(),i),...s})});l.displayName=a.b.displayName},3999:(e,t,i)=>{i.d(t,{cn:()=>a});var r=i(2596),s=i(9688);function a(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,s.QP)((0,r.$)(t))}},7168:(e,t,i)=>{i.d(t,{$:()=>l});var r=i(5155),s=i(2115),a=i(9708),n=i(2085),c=i(3999);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,t)=>{let{className:i,variant:s,size:n,asChild:l=!1,...d}=e,u=l?a.DX:"button";return(0,r.jsx)(u,{className:(0,c.cn)(o({variant:s,size:n,className:i})),ref:t,...d})});l.displayName="Button"},8482:(e,t,i)=>{i.d(t,{Wu:()=>l,ZB:()=>o,Zp:()=>n,aR:()=>c});var r=i(5155),s=i(2115),a=i(3999);let n=s.forwardRef((e,t)=>{let{className:i,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",i),...s})});n.displayName="Card";let c=s.forwardRef((e,t)=>{let{className:i,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",i),...s})});c.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:i,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",i),...s})});o.displayName="CardTitle",s.forwardRef((e,t)=>{let{className:i,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",i),...s})}).displayName="CardDescription";let l=s.forwardRef((e,t)=>{let{className:i,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",i),...s})});l.displayName="CardContent",s.forwardRef((e,t)=>{let{className:i,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",i),...s})}).displayName="CardFooter"},9852:(e,t,i)=>{i.d(t,{p:()=>n});var r=i(5155),s=i(2115),a=i(3999);let n=s.forwardRef((e,t)=>{let{className:i,type:s,...n}=e;return(0,r.jsx)("input",{type:s,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",i),ref:t,...n})});n.displayName="Input"}}]);